<h2 class="mb-2">Vocabularies</h2>

<div class="row mb-2">
  <div class="col-12">
    <div class="card ml-auto">
      <h5 class="card-header">
        Add Vocabulary
      </h5>
      <div class="card-body">
        <%= render 'form' %>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-lg-12">

    <% @vocabularies.each do |vocabulary| %>
      <div class="card p-3 card-voca mb-2">
        <div class="card-body p-0">
          <h4 class="card-title text-primary m-0" data-english="<%= vocabulary.word %>" data-meaning="<%= vocabulary.meaning %>"><%= vocabulary.word %></h4>
        </div>
      </div>
    <% end %>
    <%= paginate @vocabularies, theme: 'twitter-bootstrap-4' %>
  </div>
</div>

<script>
$(function() {
  var cards = $(".card-voca")

  cards.on('click', function() {
    var element = $(this).find(".card-title")
    var english = element.data('english')
    var meaning = element.data('meaning')
    // console.log(english + " : " + meaning)

    var isEnglish = element.hasClass("text-primary")
    // console.log(isEnglish)
    isEnglish ? printMeaning(element, meaning) : printEnglish(element, english)

  })

  function printEnglish(element, english) {
    element.removeClass("text-dark")
    element.addClass("text-primary")
    element.text(english)
  }

  function printMeaning(element, meaning) {
    element.removeClass("text-primary")
    element.addClass("text-dark")
    element.text(meaning)
  }

});
</script>